{"version":3,"sources":["assets\\bundle\\02_game\\script\\timedown.ts"],"names":[],"mappings":";;;;;AAAA,oBAAoB;AACpB,4EAA4E;AAC5E,mBAAmB;AACnB,sFAAsF;AACtF,8BAA8B;AAC9B,sFAAsF;;;;;;;;;;;;;;;;;;;;;AAEtF,2EAAsE;AAEhE,IAAA,KAAwB,EAAE,CAAC,UAAU,EAAnC,OAAO,aAAA,EAAE,QAAQ,cAAkB,CAAC;AAG5C;IAAsC,4BAAa;IAAnD;QAAA,qEAwEC;QArEW,cAAQ,GAAY,IAAI,CAAC;QAGzB,cAAQ,GAAiB,IAAI,CAAC;QAG9B,aAAO,GAAa,IAAI,CAAC;QAGzB,YAAM,GAAY,KAAK,CAAA;QAEvB,aAAO,GAAW,CAAC,CAAA;QAEnB,iBAAW,GAAW,CAAC,CAAA;QAEvB,gBAAU,GAAc,IAAI,CAAA;QA0B5B,aAAO,GAAW,CAAC,CAAA;;IA4B/B,CAAC;IApDa,wBAAK,GAAf;IAGA,CAAC;IAED,2BAAQ,GAAR,UAAS,IAAY;QACjB,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,OAAO,GAAG,IAAI,CAAA;QAClC,IAAI,CAAC,OAAO,CAAC,MAAM,GAAG,EAAE,GAAG,IAAI,CAAA;QAC/B,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,EAAE,CAAC,MAAM,CAAC,CAAA;QACnD,IAAI,CAAC,UAAU,CAAC,SAAS,GAAG,IAAI,CAAA;QAChC,IAAI,CAAC,UAAU,CAAC,SAAS,GAAG,CAAC,CAAA;QAC7B,IAAI,CAAC,QAAQ,CAAC,KAAK,GAAG,CAAC,CAAA;QACvB,IAAI,CAAC,QAAQ,CAAC,IAAI,EAAE,CAAA;QACpB,IAAI,CAAC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAA;QACvB,IAAI,CAAC,MAAM,GAAG,IAAI,CAAA;IACtB,CAAC;IAGD,2BAAQ,GAAR;QACI,IAAI,CAAC,MAAM,GAAG,KAAK,CAAA;QACnB,IAAI,CAAC,IAAI,CAAC,MAAM,GAAG,KAAK,CAAA;QACxB,IAAI,CAAC,QAAQ,CAAC,IAAI,EAAE,CAAA;IACxB,CAAC;IAMD,yBAAM,GAAN,UAAO,EAAU;QACb,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE;YACd,OAAO;SACV;QAED,IAAI,CAAC,OAAO,IAAI,EAAE,CAAC;QACnB,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,OAAO,CAAA;QAE9C,IAAI,IAAI,CAAC,OAAO,GAAG,CAAC;YAAE,IAAI,CAAC,QAAQ,EAAE,CAAA;QAErC,IAAI,IAAI,CAAC,WAAW,IAAI,CAAC,EAAE;YACvB,IAAI,CAAC,UAAU,CAAC,SAAS,GAAG,IAAI,CAAC,WAAW,CAAA;YAC5C,IAAI,CAAC,QAAQ,CAAC,KAAK,GAAG,IAAI,CAAC,WAAW,GAAG,GAAG,GAAG,GAAG,CAAA;SACrD;QAED,IAAI,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;QACtC,IAAI,MAAM,IAAI,CAAC,EAAE;YACb,IAAI,IAAI,CAAC,OAAO,EAAE;gBACd,IAAI,CAAC,OAAO,CAAC,MAAM,GAAG,MAAM,CAAC,QAAQ,EAAE,CAAC;aAC3C;SACJ;IAEL,CAAC;IAnED;QADC,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC;8CACe;IAGjC;QADC,QAAQ,CAAC,EAAE,CAAC,SAAS,CAAC;8CACe;IAGtC;QADC,QAAQ,CAAC,EAAE,CAAC,KAAK,CAAC;6CACc;IAThB,QAAQ;QAD5B,OAAO;OACa,QAAQ,CAwE5B;IAAD,eAAC;CAxED,AAwEC,CAxEqC,uBAAa,GAwElD;kBAxEoB,QAAQ","file":"","sourceRoot":"/","sourcesContent":["// Learn TypeScript:\n//  - https://docs.cocos.com/creator/2.4/manual/en/scripting/typescript.html\n// Learn Attribute:\n//  - https://docs.cocos.com/creator/2.4/manual/en/scripting/reference/attributes.html\n// Learn life-cycle callbacks:\n//  - https://docs.cocos.com/creator/2.4/manual/en/scripting/life-cycle-callbacks.html\n\nimport ComponentBase from \"../../00_base/script/common/ComponentBase\";\n\nconst { ccclass, property } = cc._decorator;\n\n@ccclass\nexport default class timedown extends ComponentBase {\n\n    @property(cc.Node)\n    private animNode: cc.Node = null;\n\n    @property(cc.Animation)\n    private animTime: cc.Animation = null;\n\n    @property(cc.Label)\n    private labTime: cc.Label = null;\n\n\n    private isPlay: boolean = false\n\n    private maxTime: number = 0\n\n    private percentTime: number = 0\n\n    private timeSprite: cc.Sprite = null\n\n    protected start(): void {\n\n\n    }\n\n    playTime(time: number) {\n        this.maxTime = this.nowTime = time\n        this.labTime.string = \"\" + time\n        this.timeSprite = this.node.getComponent(cc.Sprite)\n        this.timeSprite.fillStart = 0.25\n        this.timeSprite.fillRange = 1\n        this.animNode.angle = 0\n        this.animTime.play()\n        this.node.active = true\n        this.isPlay = true\n    }\n\n\n    stopTime() {\n        this.isPlay = false\n        this.node.active = false\n        this.animTime.stop()\n    }\n  \n    private nowTime: number = 0\n\n\n\n    update(dt: number) {\n        if (!this.isPlay) {\n            return;\n        }\n\n        this.nowTime -= dt;\n        this.percentTime = this.nowTime / this.maxTime\n\n        if (this.nowTime < 0) this.stopTime()\n\n        if (this.percentTime >= 0) {\n            this.timeSprite.fillRange = this.percentTime\n            this.animNode.angle = this.percentTime * 360 - 360\n        }\n\n        let tmpInt = Math.floor(this.nowTime);\n        if (tmpInt >= 0) {\n            if (this.labTime) {\n                this.labTime.string = tmpInt.toString();\n            }\n        }\n\n    }\n\n}\n"]}