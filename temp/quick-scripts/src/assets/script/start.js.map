{"version":3,"sources":["assets\\script\\start.ts"],"names":[],"mappings":";;;;;AAAA,+CAA8C;AAExC,IAAA,KAAwB,EAAE,CAAC,UAAU,EAAnC,OAAO,aAAA,EAAE,QAAQ,cAAkB,CAAC;AAG5C;IAAwC,8BAAY;IAApD;;IA2BA,CAAC;IAzBG,0BAAK,GAAL;QACI,OAAO,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;QACrB,IAAI,CAAC,IAAI,EAAE,CAAC;IAChB,CAAC;IAEK,8BAAS,GAAf;;;;4BACI,qBAAM,2BAAY,CAAC,KAAK,CAAC,UAAU,CAAC,2BAAY,CAAC,WAAW,CAAC,IAAI,CAAC,EAAA;;wBAAlE,SAAkE,CAAC;wBACnE,qBAAM,2BAAY,CAAC,KAAK,CAAC,UAAU,CAAC,2BAAY,CAAC,WAAW,CAAC,IAAI,CAAC,EAAA;;wBAAlE,SAAkE,CAAC;wBACnE,EAAE,CAAC,QAAQ,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;;;;;KACjC;IAEK,yBAAI,GAAV;;;;;;;;wBAE6B,qBAAM,2BAAY,CAAC,KAAK,CAAC,sBAAsB,EAAE,EAAA;;wBAAlE,cAAc,GAAG,SAAiD;wBACtE,IAAI,cAAc,IAAI,IAAI;4BAAE,2BAAY,CAAC,KAAK,CAAC,QAAQ,GAAG,cAAc,CAAC;wBACzE,IAAI,CAAC,SAAS,EAAE,CAAC;;;;wBAEjB,IAAI,2BAAY,CAAC,KAAK,CAAC,QAAQ,IAAI,IAAI,EAAE;4BACrC,IAAI,CAAC,SAAS,EAAE,CAAC;yBACpB;6BAAM;4BACH,EAAE,CAAC,KAAK,CAAC,gBAAgB,GAAG,IAAI,CAAC,SAAS,CAAC,OAAK,CAAC,CAAC,CAAC;4BACnD,IAAI,CAAC,YAAY,CAAC,cAAM,OAAA,KAAI,CAAC,IAAI,EAAE,EAAX,CAAW,EAAE,CAAC,CAAC,CAAC;yBAC3C;;;;;;KAER;IA1BgB,UAAU;QAD9B,OAAO;OACa,UAAU,CA2B9B;IAAD,iBAAC;CA3BD,AA2BC,CA3BuC,EAAE,CAAC,SAAS,GA2BnD;kBA3BoB,UAAU","file":"","sourceRoot":"/","sourcesContent":["import { bundleLoader } from \"./bundleLoader\";\r\n\r\nconst { ccclass, property } = cc._decorator;\r\n\r\n@ccclass\r\nexport default class Helloworld extends cc.Component {\r\n\r\n    start() {\r\n        console.log(\"场景启动!\");\r\n        this.load();\r\n    }\r\n\r\n    async loadScene() {\r\n        await bundleLoader.model.loadBundle(bundleLoader.ENUM_BUNDLE.BASE);\r\n        await bundleLoader.model.loadBundle(bundleLoader.ENUM_BUNDLE.HALL);\r\n        cc.director.loadScene('hall');\r\n    }\r\n\r\n    async load() {\r\n        try {\r\n            let remoteManifest = await bundleLoader.model.getRemoteBundleVersion();\r\n            if (remoteManifest != null) bundleLoader.model.manifest = remoteManifest;\r\n            this.loadScene();\r\n        } catch (error) {\r\n            if (bundleLoader.model.manifest != null) {\r\n                this.loadScene();\r\n            } else {\r\n                cc.error('加载场景错误, 5 秒后重试' + JSON.stringify(error));\r\n                this.scheduleOnce(() => this.load(), 5);\r\n            }\r\n        }\r\n    }\r\n}\r\n"]}