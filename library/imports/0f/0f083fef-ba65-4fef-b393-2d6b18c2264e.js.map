{"version":3,"sources":["assets\\bundle\\00_base\\script\\common\\ComponentBase.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;AAAA,6CAA4C;AAQpC,IAAA,QAAQ,GAAK,EAAE,CAAC,UAAU,SAAlB,CAAmB;AAEnC;IAA2C,iCAAY;IAAvD;QAAA,qEAiCC;QAhCW,YAAM,GAAkB,EAAE,CAAC;;IAgCvC,CAAC;IA7Ba,+BAAO,GAAjB,UAAkB,MAAe,EAAE,EAAY,EAAE,GAAwB;QAAxB,oBAAA,EAAA,UAAwB;QACrE,IAAI,MAAM,IAAI,EAAE,EAAE;YACd,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,EAAE,MAAM,EAAE,MAAM,EAAE,IAAI,EAAE,EAAE,CAAC,IAAI,CAAC,SAAS,CAAC,WAAW,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,CAAC,CAAC;YAC5F,MAAM,CAAC,EAAE,CAAC,EAAE,CAAC,IAAI,CAAC,SAAS,CAAC,SAAS,EAAE,EAAE,EAAE,GAAG,CAAC,CAAC;SACnD;IACL,CAAC;IAES,+BAAO,GAAjB,UAAkB,IAAY,EAAE,EAAY,EAAE,GAAwB;QAAxB,oBAAA,EAAA,UAAwB;QAClE,IAAI,IAAI,IAAI,IAAI,CAAC,MAAM,GAAG,CAAC,IAAI,EAAE,EAAE;YAC/B,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,EAAE,MAAM,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,CAAC,CAAC;YACjE,yBAAW,CAAC,EAAE,CAAC,IAAI,EAAE,EAAE,EAAE,GAAG,CAAC,CAAC;SACjC;IACL,CAAC;IAES,iCAAS,GAAnB;QACI,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,UAAC,GAAgB;YACjC,IAAI,GAAG,CAAC,MAAM,EAAE;gBACZ,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,GAAG,CAAC,IAAI,EAAE,GAAG,CAAC,EAAE,EAAE,GAAG,CAAC,GAAG,CAAC,CAAC;aAC7C;iBAAM;gBACH,yBAAW,CAAC,GAAG,CAAC,GAAG,CAAC,IAAI,EAAE,GAAG,CAAC,EAAE,EAAE,GAAG,CAAC,GAAG,CAAC,CAAC;aAC9C;QACL,CAAC,CAAC,CAAC;IACP,CAAC;IAGS,oCAAY,GAAtB;QACI,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE,CAAC;IACxB,CAAC;IAEL,oBAAC;AAAD,CAjCA,AAiCC,CAjC0C,EAAE,CAAC,SAAS,GAiCtD","file":"","sourceRoot":"/","sourcesContent":["import { EventManger } from \"./EventManger\";\r\n\r\nexport interface EventStruct {\r\n    target: cc.Node;\r\n    name: string;\r\n    cb: Function;\r\n    cbo: cc.Component;\r\n}\r\nconst { property } = cc._decorator;\r\n\r\nexport default class ComponentBase extends cc.Component {\r\n    private events: EventStruct[] = [];\r\n\r\n\r\n    protected TouchOn(target: cc.Node, cb: Function, cbo: cc.Component = this) {\r\n        if (target && cb) {\r\n            this.events.push({ target: target, name: cc.Node.EventType.TOUCH_START, cb: cb, cbo: cbo });\r\n            target.on(cc.Node.EventType.TOUCH_END, cb, cbo);\r\n        }\r\n    }\r\n\r\n    protected EventOn(name: string, cb: Function, cbo: cc.Component = this) {\r\n        if (name && name.length > 0 && cb) {\r\n            this.events.push({ target: null, name: name, cb: cb, cbo: cbo });\r\n            EventManger.on(name, cb, cbo);\r\n        }\r\n    }\r\n\r\n    protected onDestroy(): void {\r\n        this.events.forEach((ele: EventStruct) => {\r\n            if (ele.target) {\r\n                ele.target.off(ele.name, ele.cb, ele.cbo);\r\n            } else {\r\n                EventManger.off(ele.name, ele.cb, ele.cbo);\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n    protected alertDestory() {\r\n        this.node.destroy();\r\n    }\r\n\r\n}\r\n\r\n"]}