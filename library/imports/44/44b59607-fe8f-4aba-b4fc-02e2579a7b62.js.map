{"version":3,"sources":["assets\\bundle\\01_hall\\script\\config\\C_User.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,mCAAoC;AAEpC,mCAAkC;AAClC,iCAAgC;AAEhC;IAAA;QAUY,SAAI,GAAW,EAAE,CAAC;QAkBlB,WAAM,GAAW,EAAE,CAAC;QAyBpB,cAAS,GAAW,CAAC,CAAC;QAc9B,cAAc;QACP,eAAU,GAAe,IAAI,CAAC;IA4CzC,CAAC;IA7GG,sBAAkB,aAAG;aAArB;YACI,IAAI,IAAI,CAAC,IAAI,IAAI,IAAI,EAAE;gBACnB,IAAI,CAAC,IAAI,GAAG,IAAI,MAAM,EAAE,CAAC;aAC5B;YACD,OAAO,IAAI,CAAC,IAAI,CAAC;QACrB,CAAC;;;OAAA;IAKD,sBAAW,uBAAG;QAId,UAAU;aACV;YACI,IAAI,IAAI,GAAW,EAAE,CAAC,GAAG,CAAC,YAAY,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC;YACvD,IAAI,CAAC,IAAI,IAAI,IAAI,IAAI,EAAE,EAAE;gBACrB,OAAO,EAAE,CAAC;aACb;YAED,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;YACjB,OAAO,IAAI,CAAC,IAAI,CAAC;QACrB,CAAC;QAdD,UAAU;aACV,UAAe,GAAW;YACtB,EAAE,CAAC,GAAG,CAAC,YAAY,CAAC,OAAO,CAAC,MAAM,EAAE,GAAG,CAAC,CAAC;YACzC,IAAI,CAAC,IAAI,GAAG,GAAG,CAAC;QACpB,CAAC;;;OAAA;IAcD,sBAAW,yBAAK;aAKhB;YACI,IAAI,KAAK,GAAW,EAAE,CAAC,GAAG,CAAC,YAAY,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC;YACzD,IAAI,CAAC,KAAK,EAAE;gBACR,OAAO,EAAE,CAAC;aACb;YAED,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;YACpB,OAAO,IAAI,CAAC,MAAM,CAAC;QACvB,CAAC;aAbD,UAAiB,GAAW;YACxB,EAAE,CAAC,GAAG,CAAC,YAAY,CAAC,OAAO,CAAC,OAAO,EAAE,GAAG,CAAC,CAAC;YAC1C,IAAI,CAAC,MAAM,GAAG,GAAG,CAAC;QACtB,CAAC;;;OAAA;IAaD,sBAAI,sBAAE;aAAN;YACI,IAAG,CAAC,IAAI,CAAC,GAAG,EAAC;gBACT,IAAI,CAAC,GAAG,GAAG,IAAI,eAAM,EAAE,CAAC;aAC3B;YACD,OAAO,IAAI,CAAC,GAAG,CAAC;QACpB,CAAC;;;OAAA;IAGD,sBAAW,4BAAQ;aAInB;YACI,IAAI,EAAE,GAAG,EAAE,CAAC,GAAG,CAAC,YAAY,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC;YACjD,IAAI,CAAC,EAAE,EAAE;gBACL,EAAE,GAAG,CAAC,CAAC;aACV;YACD,IAAI,CAAC,SAAS,GAAG,MAAM,CAAC,EAAE,CAAC,CAAC;YAC5B,OAAO,IAAI,CAAC,SAAS,CAAC;QAC1B,CAAC;aAXD,UAAoB,GAAW;YAC3B,IAAI,CAAC,SAAS,GAAG,GAAG,CAAC;YACrB,EAAE,CAAC,GAAG,CAAC,YAAY,CAAC,OAAO,CAAC,UAAU,EAAE,GAAG,CAAC,CAAC;QACjD,CAAC;;;OAAA;IAaM,2BAAU,GAAjB;QACI,EAAE,CAAC,GAAG,CAAC,YAAY,CAAC,OAAO,CAAC,OAAO,EAAE,EAAE,CAAC,CAAC;QACzC,EAAE,CAAC,GAAG,CAAC,YAAY,CAAC,OAAO,CAAC,MAAM,EAAE,EAAE,CAAC,CAAC;IAC5C,CAAC;IAKD,yFAAyF;IACzF,UAAU;IACJ,+BAAc,GAApB,UAAqB,MAAa;;;;;;wBAC1B,IAAI,GAAG;4BACP,OAAO,EAAE,CAAC;4BACV,IAAI,EAAE,EAAE;4BACR,MAAM,EAAC,MAAM,CAAC,GAAG,CAAC,GAAG;4BACrB,MAAM,EAAC,MAAM;yBAChB,CAAA;wBACc,qBAAM,aAAK,CAAC,IAAI,CAAC,iBAAQ,CAAC,UAAU,EAAE,IAAI,CAAC,EAAA;;wBAAtD,GAAG,GAAQ,SAA2C;wBAC1D,MAAM,CAAC,GAAG,CAAC,EAAE,CAAC,MAAM,GAAG,GAAG,CAAC,IAAI,CAAC,MAAM,CAAC;;;;;KAC1C;IACD,UAAU;IACJ,oCAAmB,GAAzB;;;;;;wBACQ,IAAI,GAAG;4BACP,OAAO,EAAE,CAAC;4BACV,IAAI,EAAE,EAAE;4BACR,MAAM,EAAC,MAAM,CAAC,GAAG,CAAC,GAAG;yBACxB,CAAA;wBACc,qBAAM,aAAK,CAAC,IAAI,CAAC,iBAAQ,CAAC,eAAe,EAAE,IAAI,CAAC,EAAA;;wBAA3D,GAAG,GAAQ,SAAgD;wBAC/D,MAAM,CAAC,GAAG,CAAC,EAAE,CAAC,MAAM,GAAG,GAAG,CAAC,IAAI,CAAC,MAAM,CAAC;;;;;KAC1C;IAGD,UAAU;IACJ,+BAAc,GAApB,UAAqB,OAAc;;;;;;wBAC3B,IAAI,GAAG;4BACP,OAAO,EAAE,CAAC;4BACV,IAAI,EAAE,EAAE;4BACR,OAAO,EAAC,OAAO;yBAClB,CAAA;wBACc,qBAAM,aAAK,CAAC,IAAI,CAAC,iBAAQ,CAAC,UAAU,EAAE,IAAI,CAAC,EAAA;;wBAAtD,GAAG,GAAQ,SAA2C;wBAC1D,MAAM,CAAC,GAAG,CAAC,EAAE,CAAC,MAAM,GAAG,GAAG,CAAC,IAAI,CAAC,MAAM,CAAC;;;;;KAC1C;IA9Gc,WAAI,GAAW,IAAI,CAAA;IA+GtC,aAAC;CAhHD,AAgHC,IAAA;AAhHY,wBAAM","file":"","sourceRoot":"/","sourcesContent":["import { HttpPath } from \"./config\";\r\nimport { cwebsocket } from \"./cwebsocket\";\r\nimport { D_User } from \"./D_User\";\r\nimport { Utils } from \"./Utils\";\r\n\r\nexport class C_User {\r\n    private static sing: C_User = null\r\n\r\n    public static get ins(): C_User {\r\n        if (this.sing == null) {\r\n            this.sing = new C_User();\r\n        }\r\n        return this.sing;\r\n    }\r\n\r\n    private _uid: string = \"\";\r\n\r\n    /** uid */\r\n    public set uid(val: string) {\r\n        cc.sys.localStorage.setItem(\"uuid\", val);\r\n        this._uid = val;\r\n    }\r\n    /** uid */\r\n    public get uid(): string {\r\n        let uuid: string = cc.sys.localStorage.getItem(\"uuid\");\r\n        if (!uuid || uuid == \"\") {\r\n            return \"\";\r\n        }\r\n\r\n        this._uid = uuid;\r\n        return this._uid;\r\n    }\r\n\r\n    private _token: string = \"\";\r\n\r\n    public set token(val: string) {\r\n        cc.sys.localStorage.setItem(\"token\", val);\r\n        this._token = val;\r\n    }\r\n\r\n    public get token(): string {\r\n        let token: string = cc.sys.localStorage.getItem(\"token\");\r\n        if (!token) {\r\n            return \"\";\r\n        }\r\n\r\n        this._token = token;\r\n        return this._token;\r\n    }\r\n\r\n    private _me:D_User;\r\n    get me():D_User{\r\n        if(!this._me){\r\n            this._me = new D_User();\r\n        }\r\n        return this._me;\r\n    }\r\n\r\n    private _language: number = 0;\r\n    public set language(val: number) {\r\n        this._language = val;\r\n        cc.sys.localStorage.setItem(\"language\", val);\r\n    }\r\n    public get language(): number {\r\n        let id = cc.sys.localStorage.getItem(\"language\");\r\n        if (!id) {\r\n            id = 0;\r\n        }\r\n        this._language = Number(id);\r\n        return this._language;\r\n    }\r\n\r\n    /** 游戏长连接管理 */\r\n    public cwebsocket: cwebsocket = null;\r\n\r\n    public clearLogin() {\r\n        cc.sys.localStorage.setItem(\"token\", \"\");\r\n        cc.sys.localStorage.setItem(\"uuid\", \"\");\r\n    }\r\n\r\n    public seatPJson: any\r\n    public lightPJson: any\r\n\r\n    //---------------------------------------server------------------------------------------\r\n    /**修改备注 */\r\n    async sendUserRemark(remark:string){\r\n        let data = {\r\n            current: 1,\r\n            size: 20,\r\n            userId:C_User.ins.uid,\r\n            remark:remark\r\n        }\r\n        let res: any = await Utils.Post(HttpPath.userRemark, data);\r\n        C_User.ins.me.remark = res.data.remark;\r\n    }\r\n    /**查询备注 */\r\n    async sendUserRemarkQuery(){\r\n        let data = {\r\n            current: 1,\r\n            size: 20,\r\n            userId:C_User.ins.uid,\r\n        }\r\n        let res: any = await Utils.Post(HttpPath.queryUserRemark, data);\r\n        C_User.ins.me.remark = res.data.remark;\r\n    }\r\n\r\n    searchUser:D_User;\r\n    /**查询备注 */\r\n    async sendUserSearch(keyWord:string){\r\n        let data = {\r\n            current: 1,\r\n            size: 20,\r\n            keyWord:keyWord,\r\n        }\r\n        let res: any = await Utils.Post(HttpPath.userSearch, data);\r\n        C_User.ins.me.remark = res.data.remark;\r\n    }\r\n}"]}