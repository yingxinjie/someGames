{"version":3,"sources":["assets\\bundle\\02_game\\script\\head.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["// Learn TypeScript:\r\n//  - https://docs.cocos.com/creator/2.4/manual/en/scripting/typescript.html\r\n// Learn Attribute:\r\n//  - https://docs.cocos.com/creator/2.4/manual/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - https://docs.cocos.com/creator/2.4/manual/en/scripting/life-cycle-callbacks.html\r\n\r\nimport ComponentBase from \"../../00_base/script/common/ComponentBase\";\r\nimport { DeskInfo } from \"./config/deskInfo\";\r\nimport timedown from \"./timedown\";\r\n\r\nconst { ccclass, property } = cc._decorator;\r\n\r\n@ccclass\r\nexport default class head extends ComponentBase {\r\n\r\n    @property(cc.Label)\r\n    labName: cc.Label = null;\r\n\r\n    @property(cc.Label)\r\n    labAllscore: cc.Label = null;\r\n\r\n    @property(cc.Label)\r\n    labSeat: cc.Label = null;\r\n\r\n    @property(cc.Sprite)\r\n    pic: cc.Sprite = null;\r\n\r\n    @property(cc.Sprite)\r\n    sprStaus: cc.Sprite = null;\r\n\r\n    @property(cc.Animation)\r\n    animAllin: cc.Animation = null;\r\n\r\n    @property(cc.Node)\r\n    sprTwoCard: cc.Node = null;\r\n\r\n    @property(cc.Node)\r\n    sprTime: cc.Node = null;\r\n\r\n    @property(cc.Node)\r\n    top: cc.Node = null;\r\n\r\n    @property(cc.Node)\r\n    bottom: cc.Node = null;\r\n\r\n    @property(cc.Node)\r\n    Dicon: cc.Node = null;\r\n\r\n    @property(cc.Node)\r\n    cards: cc.Node[] = [];\r\n\r\n    @property(timedown)\r\n    timeDown:timedown = null\r\n\r\n\r\n    playerId: number\r\n\r\n    convertseat: number\r\n\r\n    seat: number\r\n\r\n\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    // onLoad () {}\r\n\r\n    start() {\r\n\r\n    }\r\n\r\n    public async init(id: number, seat: number, coneverSeat?: number) {\r\n        this.playerId = id\r\n        this.seat = seat\r\n        this.convertseat = coneverSeat ? coneverSeat : seat\r\n        this.labSeat.string = \"\" + this.seat\r\n        this.setHeadInfo(id)\r\n    }\r\n\r\n\r\n    public setHeadInfo(id: number) {\r\n        let lpalyer = DeskInfo.getLplayer(id)\r\n        if (!lpalyer) return\r\n        this.playerId = id\r\n        this.labName.string = \"\" + lpalyer.name\r\n        this.labAllscore.string = \" \" + lpalyer.bankRoll;\r\n        //  await this.headSpr(lpalyer.headPic);\r\n        // this.node.active = this.playerId > 0\r\n    }\r\n\r\n    public setPlayTime(time:number){\r\n        this.timeDown.playTime(time)\r\n    }\r\n\r\n    public setStopTime(){\r\n        this.timeDown.stopTime()\r\n    }\r\n\r\n    public clearhead() {\r\n        this.playerId = 0\r\n        this.labName.string = \"空位\"\r\n        this.labAllscore.string = \" \"\r\n    }\r\n\r\n\r\n    public setconvertSeat(seat: number) {\r\n        this.convertseat = seat\r\n    }\r\n\r\n\r\n    headSpr(url) {\r\n        return new Promise((resolve, reject) => {\r\n            cc.loader.load(url, (err, texture) => {\r\n                if (err != null) {\r\n                    return cc.error(\"加载失败..\", url)\r\n                }\r\n                let sprf = new cc.SpriteFrame(texture)\r\n                resolve(sprf)\r\n                this.pic.spriteFrame = sprf\r\n            })\r\n        })\r\n    }\r\n\r\n    // update (dt) {}\r\n}\r\n"]}