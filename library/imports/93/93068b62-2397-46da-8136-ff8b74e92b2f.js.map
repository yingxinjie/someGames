{"version":3,"sources":["assets\\bundle\\02_game\\script\\config\\dzUtils.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import { bundleLoader } from \"../../../../script/bundleLoader\";\r\n\r\nexport default class dzUtils {\r\n\r\n    private static sing: dzUtils = null\r\n\r\n    public static get ins(): dzUtils {\r\n        if (this.sing == null) {\r\n            this.sing = new dzUtils();\r\n        }\r\n        return this.sing;\r\n    }\r\n\r\n    loadPrefab(url: string) {\r\n        return new Promise((resolve, reject) => {\r\n            let bundle = bundleLoader.ENUM_BUNDLE_SAVE[bundleLoader.ENUM_BUNDLE.GAME];\r\n            bundle.load('prefab/item/' + url, cc.Prefab, (err: Error, prefab: cc.Prefab) => {\r\n                if (err) {\r\n                    cc.error(\"加载预制体错误\", err);\r\n                    reject(\"error\");\r\n                    return;\r\n                }\r\n                resolve(prefab);\r\n            });\r\n        });\r\n    }\r\n\r\n\r\n    loadPic(url: string, bundleIndex = bundleLoader.ENUM_BUNDLE.GAME) {\r\n        return new Promise((resolve, reject) => {\r\n            let bundle = bundleLoader.ENUM_BUNDLE_SAVE[bundleIndex];\r\n            bundle.load('img/' + url, cc.SpriteFrame, (err: Error, pic: cc.SpriteFrame) => {\r\n                if (err) {\r\n                    cc.error(\"加载图片错误\", err);\r\n                    reject(\"error\");\r\n                    return;\r\n                }\r\n                resolve(pic);\r\n            });\r\n        });\r\n    }\r\n\r\n\r\n    loadCardPic(url: string, bundleIndex = bundleLoader.ENUM_BUNDLE.GAME) {\r\n        return new Promise<cc.SpriteFrame>((resolve, reject) => {\r\n            let bundle = bundleLoader.ENUM_BUNDLE_SAVE[bundleIndex];\r\n            bundle.load('card/' + url, cc.SpriteFrame, (err: Error, pic: cc.SpriteFrame) => {\r\n                if (err) {\r\n                    cc.error(\"加载图片错误\", err);\r\n                    reject(\"error\");\r\n                    return;\r\n                }\r\n                resolve(pic);\r\n            });\r\n        });\r\n    }\r\n\r\n    colorOfString(value: string): cc.Color {\r\n        if (value == null || value.length != 7) {\r\n            return null;\r\n        }\r\n        var color = value.toLowerCase();\r\n        if (color.charAt(0) != \"#\") {\r\n            return;\r\n        }\r\n        color = color.slice(1);\r\n        var r = parseInt(color[0] + color[1], 16);\r\n        var g = parseInt(color[2] + color[3], 16);\r\n        var b = parseInt(color[4] + color[5], 16);\r\n        return new cc.Color(r, g, b, 255);\r\n    }\r\n\r\n    \r\n\r\n}\r\nexport const DzUtils = dzUtils.ins;"]}