{"version":3,"sources":["assets\\bundle\\02_game\\script\\config\\nodeDZpool.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import { DzUtils } from \"./dzUtils\";\n\nexport class nodeDZpool {\n    private static sing: nodeDZpool = null\n\n    public static get ins(): nodeDZpool {\n        if (this.sing == null) {\n            this.sing = new nodeDZpool();\n        }\n        return this.sing;\n    }\n\n    private _nodePool: cc.NodePool[] = [];\n\n    private _card: any;\n    public async initCard(max: number = 9) {\n        this._card = await DzUtils.loadPrefab(\"card\")\n        for (let i = 0; i < max; i++) {\n            let obj = cc.instantiate(this._card)\n            if (!this._nodePool[POOLTYPE.CARD]) {\n                this._nodePool[POOLTYPE.CARD] = new cc.NodePool()\n            }\n            this._nodePool[POOLTYPE.CARD].put(obj)\n        }\n    }\n\n    private _coin: any;\n    public async initCoin(max: number = 9) {\n        this._coin = await DzUtils.loadPrefab(\"coin\")\n        for (let i = 0; i < max; i++) {\n            let obj = cc.instantiate(this._coin)\n            if (!this._nodePool[POOLTYPE.COIN]) {\n                this._nodePool[POOLTYPE.COIN] = new cc.NodePool()\n            }\n            this._nodePool[POOLTYPE.COIN].put(obj)\n        }\n    }\n\n    private _isLoad: boolean = false;\n    /**获取对象池对象 */\n    public getObj(index): any {\n        let obj: any;\n        let prefab: cc.Prefab\n\n        if (index == POOLTYPE.CARD) {\n            prefab = this._card\n        } else {\n            prefab = this._coin\n        }\n\n        if (this._nodePool[index].size() > 0) {\n            obj = this._nodePool[index].get()\n        } else {\n            obj = cc.instantiate(prefab)\n        }\n        //obj.init();\n        return obj;\n    }\n\n    /**回收对象 */\n    public recovery(index, node: cc.Node) {\n        this._nodePool[index].put(node);\n    }\n}\n\n/** 桌内信息 */\nexport const NodeDZpool = nodeDZpool.ins;\n\nexport enum POOLTYPE {\n    CARD,\n    COIN\n}"]}