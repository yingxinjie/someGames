{"version":3,"sources":["assets\\bundle\\02_game\\script\\config\\nodeDZpool.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import { DzUtils } from \"./dzUtils\";\r\n\r\nexport class nodeDZpool {\r\n    private static sing: nodeDZpool = null\r\n\r\n    public static get ins(): nodeDZpool {\r\n        if (this.sing == null) {\r\n            this.sing = new nodeDZpool();\r\n        }\r\n        return this.sing;\r\n    }\r\n\r\n    private _nodePool: cc.NodePool[] = [];\r\n\r\n    private _card: any;\r\n    public async initCard(max: number = 9) {\r\n        this._card = await DzUtils.loadPrefab(\"card\")\r\n        for (let i = 0; i < max; i++) {\r\n            let obj = cc.instantiate(this._card)\r\n            if (!this._nodePool[POOLTYPE.CARD]) {\r\n                this._nodePool[POOLTYPE.CARD] = new cc.NodePool()\r\n            }\r\n            this._nodePool[POOLTYPE.CARD].put(obj)\r\n        }\r\n    }\r\n\r\n    private _coin: any;\r\n    public async initCoin(max: number = 9) {\r\n        this._coin = await DzUtils.loadPrefab(\"coin\")\r\n        for (let i = 0; i < max; i++) {\r\n            let obj = cc.instantiate(this._coin)\r\n            if (!this._nodePool[POOLTYPE.COIN]) {\r\n                this._nodePool[POOLTYPE.COIN] = new cc.NodePool()\r\n            }\r\n            this._nodePool[POOLTYPE.COIN].put(obj)\r\n        }\r\n    }\r\n\r\n    private _isLoad: boolean = false;\r\n    /**获取对象池对象 */\r\n    public getObj(index): any {\r\n        let obj: any;\r\n        let prefab: cc.Prefab\r\n\r\n        if (index == POOLTYPE.CARD) {\r\n            prefab = this._card\r\n        } else {\r\n            prefab = this._coin\r\n        }\r\n\r\n        if (this._nodePool[index].size() > 0) {\r\n            obj = this._nodePool[index].get()\r\n        } else {\r\n            obj = cc.instantiate(prefab)\r\n        }\r\n        //obj.init();\r\n        return obj;\r\n    }\r\n\r\n    /**回收对象 */\r\n    public recovery(index, node: cc.Node) {\r\n        this._nodePool[index].put(node);\r\n    }\r\n}\r\n\r\n/** 桌内信息 */\r\nexport const NodeDZpool = nodeDZpool.ins;\r\n\r\nexport enum POOLTYPE {\r\n    CARD,\r\n    COIN\r\n}"]}